<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // var a = {n:1};
        // var b = a 
        // a.x = a = {n:2}
        // console.log(a.n,b.n)//2 1 
        // console.log(a.x,b.x)//un {n:2}

        //给定nums=[2，7，11，15]，target = 9，因为nums[0]+nums[1] = 2 + 7 = 9,所以返回[0，1]，请写出实现代码

        //给定一个字符串，例如：abaacbcjdedkkdjfjj，选出其中最早出现且出现一次的字符，请写出实现代码

        // let str = "abaacbcjdedkkdjfjj"

        // // console.log([...str])

        // let arr = [...str]
        // // console.log(arr.slice(1))
        // // console.log(arr.map((item2,index2)=>{return item2}))
        // let result = arr.find((item,index)=>{
        //     let conut = 1;
        //     let newArr = arr.map((item2,index2)=>{if(index2 !== index){return item2}})
        //     newArr.splice(index,1)
        //     // console.log(newArr)
        //     newArr.forEach((item1,index1)=>{
        //         if(item === item1){
        //             conut++;
        //         }
        //     })
        //     // console.log(conut)
        //     if(conut === 1){
        //         return true
        //     }
        // })
        // console.log(result)

        // var objA = Object.create({foo:"foo"})
        // var objB = objA
        // console.log(objA,objB)
        // objB.foo = "bar"
        // console.log(objA,objB)

        // delete objA.foo
        // console.log(objA,objB)
        // console.log(objA.foo)
        // console.log(objB.foo)


        // var arr3 = new Array(["1",2,"3",4,4.5])
        // console.log(arr3)

        // console.log(Object(true))

        // var a = [2,0,false,"","12",true]
        // var a = a.filter(Boolean)
        // console.log(a)
        // var a = a.filter(Number)
        // console.log(a)
        // var a = a.filter(String)
        // console.log(a)
        // var a = a.filter(Object)
        // console.log(a)


        // var greet = "hello world"
        // var toGreet = [].filter.call(greet,function(item,index){
        //     return index >5
        // })
        // console.log(toGreet)

        // const promise = new Promise((resolve,reject)=>{
        //     console.log(1)
        //     reject(2)
        //     console.log(3)
        // })
        // promise.then(res =>{
        //     console.log("resolve",res)
        // }).catch(err =>{
        //     console.log("reject",err)
        // })
        // console.log(4)
        // console.log(typeof [])

        // var b = null
        // if("a" in window){
        //     var a = 10

        // }
        // alert(a)

        // console.log(window)

        // const p1 = () => new Promise(function (resolve, reject) {
        //     console.log('A')
        //     setTimeout(() => {
        //         resolve("B")
        //     }, 0)
        //     console.log("C")
        // })

        // const p2 = () => new Promise(function (resolve, reject) {
        //     console.log('D')
        //     setTimeout(() => {
        //         resolve("E");
        //         resolve();
        //         console.log("F")
        //     }, 0)
        //     console.log("G")

        // })
        // p2().then(() => p1()).then((res) => console.log(res)) //A C D G E B  //D G F A C B



        //    console.log ([[1, 2], [3, 4]].map(([a, b]) => a + b));



        // // [ 3, 7 ]
        // var arr = [1,2]
        // var newArr = arr.map((item,index)=>{return item * 2})
        // console.log(newArr)

        // // 解构 默认值


        // function Timer() {
        //     this.s1 = 0;
        //     this.s2 = 0;
        //     // 箭头函数
        //     setInterval(() => {this.s1++;console.log(this.s1)}, 1000);//1 没有this 是指外部函数的this
        //     // 普通函数
        //     setInterval(function () {
        //         this.s2++;
        //         console.log(this.s2)//NaN  this 是window
        //     }, 1000);
        // }

        // var timer = new Timer();

        // setTimeout(() => console.log('s1: ', timer.s1), 3100);
        // setTimeout(() => console.log('s2: ', timer.s2), 3100);


        // function foo() {
        //     return () => {
        //         return () => {
        //             return () => {
        //                 console.log('id:', this.id);
        //             };
        //         };
        //     };
        // }

        // console.log(foo())


        // const set = new Set([1, 2, 3, 4, 4]);
        // console.log(set)

        // function timeout(ms) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(resolve, ms, 'done');
        //     });
        // }

        // timeout(100).then((value) => {
        //     console.log(value);
        // });

        // setTimeout(function(){return console.log("1")}, 1000, 'done');


        // const promise = new Promise(function (resolve, reject) {
        //     try {
        //         throw new Error('test');
        //     } catch (e) {
        //         reject(e);
        //     }
        // });
        // promise.catch(function (error) {
        //     console.log(error);
        // });
        // throw new Error('test');


        // const someAsyncThing = function () {
        //     return new Promise(function (resolve, reject) {
        //         // 下面一行会报错，因为x没有声明
        //         resolve(x + 2);
        //     });
        // };

        // someAsyncThing().then(function () {
        //     console.log('everything is great');
        // });

        // setTimeout(() => {
        //     console.log(123)
        // }, 2000);



        // const someAsyncThing = function () {
        //     return new Promise(function (resolve, reject) {
        //         // 下面一行会报错，因为x没有声明
        //         resolve(2);
        //     });
        // };

        // someAsyncThing()
        //     .catch(function (error) {
        //         console.log('oh no', error);
        //     })
        //     .then(function () {
        //         console.log('carry on');
        //     });



        // const p1 = new Promise((resolve, reject) => {
        //         resolve('hello');
        //     })
        //     .then(result => result)
        //     .catch(e => e);

        // const p2 = new Promise((resolve, reject) => {
        //         throw new Error('报错了');
        //     })
        //     .then(result => result)
        //     .catch(e => e);

        // Promise.all([p1, p2])
        //     .then(result => console.log(result))
        //     .catch(e => console.log(e));


        //练习
        // const promise = new Promise((resolve, reject) => {
        //     // 执行异步代码，请求a数据
        //     setTimeout(() => {
        //         console.log("a数据ok");
        //         resolve();
        //     }, 1000);
        // });

        // promise.then(() => {
        //     // 请求b数据
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("b数据ok");
        //             resolve();
        //         }, 2000);
        //     });
        // }).then(() => {
        //     // 请求c数据
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("c数据ok");
        //             resolve();
        //         }, 3000);
        //     });
        // }).then(() => {
        //     console.log('所有数据都请求完毕了~');
        // })//a数据ok  b数据ok c数据ok 所有数据都请求完毕了



        // const promise = new Promise((resolve, reject) => {
        //     let successNum = 0;

        //     setTimeout(() => {
        //         console.log("a数据ok");
        //         reject();
        //         successNum++;
        //         if (successNum === 3) {
        //             resolve();
        //         }
        //     }, 1000);

        //     setTimeout(() => {
        //         console.log("b数据ok");
        //         successNum++;
        //         if (successNum === 3) {
        //             resolve();
        //         }
        //     }, 2000);

        //     setTimeout(() => {
        //         console.log("c数据ok");
        //         successNum++;
        //         if (successNum === 3) {
        //             resolve();
        //         }
        //     }, 3000);
        // });

        // promise
        //     .then(() => console.log("全部成功了~"))
        //     .catch(() => console.log("失败了~"));



/*
  需求： 同时请求三个数据，全部请求成功了，才OK，只要有一个失败，就失败
*/
        // const promise1 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("a数据ok");
        //         resolve();
        //     }, 1000);
        // });

        // const promise2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("b数据ok");
        //         reject();
        //     }, 2000);
        // });

        // const promise3 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         console.log("c数据ok");
        //         resolve();
        //     }, 3000);
        // });

        // const promise = Promise.all([promise1, promise2, promise3]);

        // promise
        //     .then(() => console.log("全部成功了~"))
        //     .catch(() => console.log("失败了~"));
    </script>
</body>

</html>